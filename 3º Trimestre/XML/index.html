<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Nosotros en este caso estámos realizando la relación con el archivo style.css-->
    <link rel="stylesheet" href="style.css">
    <!-- Posteriormente  agregamos las siguientes líneas  para la compatibilidad de materialize-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <title>Tarea XML</title>
</head>
<!-- Apartir de aquí vamos ha empezar ha realizar la estructura de HTML-->

<body>
    <div class="containers">
        <div class="curso">
            <h1 id="grado">Administración de Sistemas Informáticos en Red </h1>
            <h1 id="header">Primer Año</h1>
        </div>
        <div class="row">
            <div class="col s12 m6">
                <div class="card">
                    <div class="card-image">
                        <img src="img/fol.jpg">
                        <span class="card-title" id="titulo"></span>
                    </div>
                    <div class="card-content ">
                        <p id="contenido"></p>
                    </div>
                </div>
            </div>
            <div class="col s12 m6">
                <div class="card">
                    <div class="card-image">
                        <img src="img/hardware.jpg">
                        <span class="card-title" id="titulo2"></span>
                    </div>
                    <div class="card-content">
                        <p id="contenido2"></p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col s12 m6">
                <div class="card">
                    <div class="card-image">
                        <img src="img/basededatos.jpg">
                        <span class="card-title" id="titulo3"></span>
                    </div>
                    <div class="card-content">
                        <p id="contenido3"></p>
                    </div>
                </div>
            </div>
            <div class="col s12 m6">
                <div class="card">
                    <div class="card-image">
                        <img src="img/programacion.jpg">
                        <span class="card-title" id="titulo4"></span>
                    </div>
                    <div class="card-content">
                        <p id="contenido4"></p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col s12 m6">
                <div class="card">
                    <div class="card-image">
                        <img src="img/redes.jpg">
                        <span class="card-title" id="titulo5"></span>
                    </div>
                    <div class="card-content">
                        <p id="contenido5"></p>
                    </div>
                </div>
            </div>
            <div class="col s12 m6">
                <div class="card">
                    <div class="card-image">
                        <img src="img/sistemasoperativos.jpg">
                        <span class="card-title" id="titulo6"></span>
                    </div>
                    <div class="card-content">
                        <p id="contenido6"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="curso">
        <h1 id="header">Segundo Año</h1>
    </div>
    <div class="row">
        <div class="col s12 m6">
            <div class="card">
                <div class="card-image">
                    <img src="img/gestiondebasededatos.jpg ">
                    <span class="card-title" id="titulo7"></span>
                </div>
                <div class="card-content">
                    <p id="contenido7"></p>
                </div>
            </div>
        </div>
        <div class="col s12 m6">
            <div class="card">
                <div class="card-image">
                    <img src="img/administraciondesistemasoperativos.jpg">
                    <span class="card-title" id="titulo8"></span>
                </div>
                <div class="card-content">
                    <p id="contenido8"></p>
                </div>
            </div>
        </div>
    </div>
    </div>
    <div class="row">
        <div class="col s12 m6">
            <div class="card">
                <div class="card-image">
                    <img src="img/empresa.jpg">
                    <span class="card-title" id="titulo9"></span>
                </div>
                <div class="card-content">
                    <p id="contenido9"></p>
                </div>
            </div>
        </div>
        <div class="col s12 m6">
            <div class="card">
                <div class="card-image">
                    <img src="img/aplicacionesweb.jpg">
                    <span class="card-title" id="titulo10"></span>
                </div>
                <div class="card-content">
                    <p id="contenido10"></p>
                </div>
            </div>
        </div>
    </div>
    </div>
    <div class="row">
        <div class="col s12 m6">
            <div class="card">
                <div class="card-image">
                    <img src="img/ingles.jpg">
                    <span class="card-title" id="titulo11"></span>
                </div>
                <div class="card-content">
                    <p id="contenido11"></p>
                </div>
            </div>
        </div>
        <div class="col s12 m6">
            <div class="card">
                <div class="card-image">
                    <img src="img/ciberseguridad.jpg">
                    <span class="card-title" id="titulo12"></span>
                </div>
                <div class="card-content">
                    <p id="contenido12"></p>
                </div>
            </div>
        </div>
    </div>
    </div>
    <div class="row">
        <div class="col s12 m6">
            <div class="card">
                <div class="card-image">
                    <img src="img/serviciosdered.jpg">
                    <span class="card-title" id="titulo13"></span>
                </div>
                <div class="card-content">
                    <p id="contenido13"></p>
                </div>
            </div>
        </div>
    </div>
    </div>
</body>
<!-- Empezamos a realizar el trbajo del Script -->
<script>
    // 1. Instanciar objeto XMLHttpRequest (guardar en variable)
    var xhttp = new XMLHttpRequest();

    // 2. Crear llamada open con el tipo (GET/POST) y el fichero correspondiente (datos.xml)
    xhttp.open("GET", "tarea.xml", true);

    // 3. Enviar la peticion creada en el paso 2
    xhttp.send();

    // 4. Recibo peticion de llamada AJAX
    // this.Readystate es 4 cuando la peticion ha finalizado
    // this.status es 200 cuando la peticion es correcta (fichero localizado correctamente)
    // this.responseXML devuelve el contenido del ficheroen formato XML (etiquetas)
    xhttp.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
            console.log(this.responseXML);
            // document.getElementById()
            // document.getElementsByClassName()
            // document.getElementsByTagName()

            let asir = this.responseXML.getElementsByTagName('Asir')[0];
            console.log(asir);

            //Creamos una nueva variable con el nombre modulos,donde posteriormente hemos cogido la 
            //variable asir de antes donde hemos agregado el childNodes ('es decir que coja los hijos de asir')
            // y que lo cargue en un console log donde nos mostrará ('modulos')

            let modulos = asir.childNodes[1];
            console.log(modulos);

            //Creamos una nueva variable  con el nombre primeraño donde cogemos los hijos de modulo ('en este caso el [1]')
            //Donde posteriormente hago un consolelog a primer año

            let primeraño = modulos.childNodes[1];
            console.log(primeraño);

            // Creamos una nueva variable con el nombre cursos donde cogemos el hijo "1".
            //En la siguiente línea agregamos un console.log en el que cargamos cursos y  un getAttribute de 'nombre'
            //Posteriormente agregamos un document.getElementById de titulo para que  se nos carge en la parte de HTML el título que  hemos agregado 'es decir: nombre'
            //Posteriormente agregamos un document.getElementById de contenido  para que  se nos carge en la parte del  contenido  que  hemos agregado 'es decir: contenido'

            //ESTO SE REPETIRÁ EN TODFO LA SECCIÓN DEL PRIMER AÑO CON SU ASIGNATURA

            let cursos = primeraño.childNodes[1];
            console.log(cursos);            
            document.getElementById('titulo').innerHTML = cursos.getAttribute('nombre');
            document.getElementById('contenido').innerHTML = cursos.getAttribute('contenido');

            let cursos2 = primeraño.childNodes[3];
            console.log(cursos2);            
            document.getElementById('titulo2').innerHTML = cursos2.getAttribute('nombre');
            document.getElementById('contenido2').innerHTML = cursos2.getAttribute('contenido');

            let cursos3 = primeraño.childNodes[5];
            console.log(cursos3);            
            document.getElementById('titulo3').innerHTML = cursos3.getAttribute('nombre');
            document.getElementById('contenido3').innerHTML = cursos3.getAttribute('contenido');

            let cursos4 = primeraño.childNodes[7];
            console.log(cursos4);            
            document.getElementById('titulo4').innerHTML = cursos4.getAttribute('nombre');
            document.getElementById('contenido4').innerHTML = cursos4.getAttribute('contenido');

            let cursos5 = primeraño.childNodes[9];
            console.log(cursos5);            
            document.getElementById('titulo5').innerHTML = cursos5.getAttribute('nombre');
            document.getElementById('contenido5').innerHTML = cursos5.getAttribute('contenido');

            let cursos6 = primeraño.childNodes[11];
            console.log(cursos6);            
            document.getElementById('titulo6').innerHTML = cursos6.getAttribute('nombre');
            document.getElementById('contenido6').innerHTML = cursos6.getAttribute('contenido');

            //Creamos una nueva variable  con el nombre segundoaño donde cogemos los hijos de modulo ('en este caso el [3]')
            //Donde posteriormente hago un consolelog a segundo año

            let segundoaño = modulos.childNodes[3];
            console.log(segundoaño);

            // Creamos una nueva variable con el nombre cursos donde cogemos el hijo "1".
            //En la siguiente línea agregamos un console.log en el que cargamos cursos y  un getAttribute de 'nombre'
            //Posteriormente agregamos un document.getElementById de titulo para que  se nos carge en la parte de HTML el título que  hemos agregado 'es decir: nombre'
            //Posteriormente agregamos un document.getElementById de contenido  para que  se nos carge en la parte del  contenido  que  hemos agregado 'es decir: contenido'

            //ESTO SE REPETIRÁ EN TODFO LA SECCIÓN DEL PRIMER AÑO CON SU ASIGNATURA

            let cursos7 = segundoaño.childNodes[1];
            console.log(cursos7);
            document.getElementById('titulo7').innerHTML = cursos7.getAttribute('nombre');
            document.getElementById('contenido7').innerHTML = cursos7.getAttribute('contenido');

            let cursos8 = segundoaño.childNodes[3];
            console.log(cursos8);
            document.getElementById('titulo8').innerHTML = cursos8.getAttribute('nombre');
            document.getElementById('contenido8').innerHTML = cursos8.getAttribute('contenido');

            let cursos9 = segundoaño.childNodes[5];
            console.log(cursos9);
            document.getElementById('titulo9').innerHTML = cursos9.getAttribute('nombre');
            document.getElementById('contenido9').innerHTML = cursos9.getAttribute('contenido');

            let cursos10 = segundoaño.childNodes[7];
            console.log(cursos10);
            document.getElementById('titulo10').innerHTML = cursos10.getAttribute('nombre');
            document.getElementById('contenido10').innerHTML = cursos10.getAttribute('contenido');

            let cursos11 = segundoaño.childNodes[9];
            console.log(cursos11);
            document.getElementById('titulo11').innerHTML = cursos11.getAttribute('nombre');
            document.getElementById('contenido11').innerHTML = cursos11.getAttribute('contenido');

            let cursos12 = segundoaño.childNodes[11];
            console.log(cursos12);
            document.getElementById('titulo12').innerHTML = cursos12.getAttribute('nombre');
            document.getElementById('contenido12').innerHTML = cursos12.getAttribute('contenido');

            let cursos13 = segundoaño.childNodes[13];
            console.log(cursos13);
            document.getElementById('titulo13').innerHTML = cursos13.getAttribute('nombre');
            document.getElementById('contenido13').innerHTML = cursos13.getAttribute('contenido');
        }
    };
</script>

</html>